{"ast":null,"code":"import _toConsumableArray from\"/Users/daloniil/Desktop/Programer/Store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/daloniil/Desktop/Programer/Store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={item:[],lenght:null,amoun:0};var buyItem=function buyItem(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"BUYITEM\":{var n=state.item.length;var buyeat={_id:n,id:action.info.id,name:action.info.name,eat:action.info,cost:action.cost,size:action.size,finalcost:action.cost,amount:action.info.amount,photoURL:action.info.photoURL};if(!state.item.some(function(buy){return buy.id===action.info.id;})){return _objectSpread(_objectSpread({},state),{},{item:[].concat(_toConsumableArray(state.item),[buyeat]),lenght:state.item.length,amoun:state.amoun+1});}else{var Id=action.info.id;var index=state.item.findIndex(function(el){return el.id===Id;});return _objectSpread(_objectSpread(_objectSpread({},state),state.item[index].eat.amount+=Object(1)),{},{amoun:state.amoun+1},state.item[index].cost=Object(state.item[index].finalcost*state.item[index].eat.amount));}}case\"LENGHT\":{return _objectSpread(_objectSpread({},state),{},{lenght:action.lenght});}case\"AMOUNTSMINUS\":{return _objectSpread(_objectSpread({},state),{},{amoun:state.amoun-action.newam});}case\"AMOUNTSPLUS\":{return _objectSpread(_objectSpread({},state),{},{amoun:state.amoun+1});}case\"DELETEARRAY\":{return _objectSpread(_objectSpread({},state),{},{item:[],lenght:null,amoun:0});}default:return state;}};export var actions={buy:function buy(info,cost,size){return{type:\"BUYITEM\",info:info,cost:cost,size:size};},deleteLenght:function deleteLenght(lenght){return{type:\"LENGHT\",lenght:lenght};},amountLeghtminus:function amountLeghtminus(newam){return{type:\"AMOUNTSMINUS\",newam:newam};},amountLeghtplus:function amountLeghtplus(){return{type:\"AMOUNTSPLUS\"};},daletArray:function daletArray(){return{type:\"DELETEARRAY\"};}};export default buyItem;","map":{"version":3,"sources":["/Users/daloniil/Desktop/Programer/Store/src/Redux/buy-item-reducer.ts"],"names":["initialState","item","lenght","amoun","buyItem","state","action","type","n","length","buyeat","_id","id","info","name","eat","cost","size","finalcost","amount","photoURL","some","buy","Id","index","findIndex","el","Object","newam","actions","deleteLenght","amountLeghtminus","amountLeghtplus","daletArray"],"mappings":"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","sourcesContent":["import { actionsType } from \"./redux-store\";\nimport { ReducerType } from \"../Types/Type\";\n\nlet initialState = {\n  item: [] as Array<BuyItemType>,\n  lenght: null as number | null,\n  amoun: 0 as number,\n};\n\nexport type BuyItemType = {\n  _id: number;\n  id: number;\n  name: string;\n  eat: ReducerType;\n  photoURL: string;\n  cost: number;\n  size: number;\n  finalcost: number;\n  amount: number;\n};\n\nexport type initialStateType = typeof initialState;\n\nconst buyItem = (\n  state = initialState,\n  action: ActionsTypes\n): initialStateType => {\n  switch (action.type) {\n    case \"BUYITEM\": {\n      let n = state.item.length;\n      let buyeat = {\n        _id: n,\n        id: action.info.id,\n        name: action.info.name,\n        eat: action.info,\n        cost: action.cost,\n        size: action.size,\n        finalcost: action.cost,\n        amount: action.info.amount,\n        photoURL: action.info.photoURL,\n      };\n      if (!state.item.some((buy) => buy.id === action.info.id)) {\n        return {\n          ...state,\n          item: [...state.item, buyeat],\n          lenght: state.item.length,\n          amoun: state.amoun + 1,\n        };\n      } else {\n        let Id = action.info.id;\n        let index = state.item.findIndex((el) => el.id === Id);\n\n        return {\n          ...state,\n          ...(state.item[index].eat.amount += Object(1 as {})),\n          amoun: state.amoun + 1,\n          ...(state.item[index].cost = Object(\n            (state.item[index].finalcost * state.item[index].eat.amount) as {}\n          )),\n        };\n      }\n    }\n\n    case \"LENGHT\": {\n      return {\n        ...state,\n        lenght: action.lenght,\n      };\n    }\n\n    case \"AMOUNTSMINUS\": {\n      return {\n        ...state,\n        amoun: state.amoun - action.newam,\n      };\n    }\n\n    case \"AMOUNTSPLUS\": {\n      return {\n        ...state,\n        amoun: state.amoun + 1,\n      };\n    }\n\n    case \"DELETEARRAY\": {\n      return {\n        ...state,\n        item: [],\n        lenght: null,\n        amoun: 0,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\ntype ActionsTypes = actionsType<typeof actions>;\n\nexport const actions = {\n  buy: (info: ReducerType, cost: number, size: number) => {\n    return {\n      type: \"BUYITEM\",\n      info,\n      cost,\n      size,\n    } as const;\n  },\n\n  deleteLenght: (lenght: number) => {\n    return {\n      type: \"LENGHT\",\n      lenght,\n    } as const;\n  },\n\n  amountLeghtminus: (newam: number) => {\n    return {\n      type: \"AMOUNTSMINUS\",\n      newam,\n    } as const;\n  },\n\n  amountLeghtplus: () => {\n    return {\n      type: \"AMOUNTSPLUS\",\n    } as const;\n  },\n  daletArray: () => {\n    return {\n      type: \"DELETEARRAY\",\n    } as const;\n  },\n};\n\nexport default buyItem;\n"]},"metadata":{},"sourceType":"module"}