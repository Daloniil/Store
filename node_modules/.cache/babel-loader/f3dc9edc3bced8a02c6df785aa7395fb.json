{"ast":null,"code":"import _slicedToArray from\"/Users/daloniil/Desktop/Programer/Store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{NavLink}from\"react-router-dom\";import s from\"./Buy.module.css\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{actions}from\"../../Redux/buy-item-reducer\";import{getitem,getlenght,getamoun}from\"../../Selectors/buy-item-selector\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Buy=function Buy(){var Scroll=require(\"react-scroll\");var scroll=Scroll.animateScroll;scroll.scrollToTop();var plus,minus,delet;var dispatch=useDispatch();var deleteLenght=function deleteLenght(length){dispatch(actions.deleteLenght(Number(length)));};var amountLeghtminus=function amountLeghtminus(number){dispatch(actions.amountLeghtminus(number));};var amountLeghtplus=function amountLeghtplus(){dispatch(actions.amountLeghtplus());};var item=useSelector(getitem);var lenght=useSelector(getlenght);var amoun=useSelector(getamoun);var _useState=useState(function(){return item;}),_useState2=_slicedToArray(_useState,2),itemState=_useState2[0],setItemState=_useState2[1];useEffect(function(){setItemState(item);},[amoun]);var view;var cost=item.reduce(function(a,b){return Math.round(a+b.cost);},0);if(item.length==0){view=/*#__PURE__*/_jsxs(\"div\",{className:s.container_no_buy,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0412\\u0438 \\u0449\\u0435 \\u043D\\u0435 \\u043E\\u0431\\u0440\\u0430\\u043B\\u0438 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/profile/pizza\",className:s.p,children:\"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u0432 \\u043C\\u0435\\u043D\\u044E\"})]});}else{view=/*#__PURE__*/_jsxs(\"div\",{className:s.container_buy,children:[/*#__PURE__*/_jsx(\"div\",{className:s.order,children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u041A\\u043E\\u0448\\u0438\\u043A\"})}),item.map(function(u){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:s.info,children:[/*#__PURE__*/_jsx(\"div\",{className:s.container_photo,children:/*#__PURE__*/_jsx(\"img\",{src:u.eat.photoURL,alt:\"\",height:\"75\",width:\"75\"})}),/*#__PURE__*/_jsxs(\"div\",{className:s.your_order,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.container_name,children:[u.eat.name,\" \",u.size>0?\"-\":\"\",\" \",u.size>0?u.size:\"\",\" \",u.size>0?\"см\":\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:s.amount,children:[/*#__PURE__*/_jsx(\"div\",{className:s.border_minus,children:/*#__PURE__*/_jsx(\"p\",{className:s.minus,onClick:minus=function minus(){if(u.eat.amount>1){amountLeghtminus(1);}u.eat.amount=u.eat.amount>1?u.eat.amount-1:u.eat.amount;u.cost=u.eat.cost*u.eat.amount;},children:\"-\"})}),/*#__PURE__*/_jsx(\"p\",{className:s.number_amount,children:u.eat.amount}),/*#__PURE__*/_jsx(\"p\",{className:s.plus,onClick:plus=function plus(){u.eat.amount=u.eat.amount+1;u.cost=u.eat.cost*u.eat.amount;amountLeghtplus();},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.costs,children:[/*#__PURE__*/_jsxs(\"span\",{className:s.x,children:[\" \",u.eat.amount,\" x\"]}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:s.amount_cost,children:[Math.round(u.eat.cost),\" \\u0433\\u0440\\u043D\"]})]})]}),/*#__PURE__*/_jsx(\"span\",{className:s.delete,onClick:delet=function delet(){var searchindex=u._id;amountLeghtminus(itemState[itemState.findIndex(function(el){return el._id===searchindex;})].eat.amount);itemState[itemState.findIndex(function(el){return el._id===searchindex;})].eat.amount=1;itemState.splice(itemState.findIndex(function(el){return el._id===searchindex;}),1);deleteLenght(Number(lenght)>0?Number(lenght)-1:null);},children:\"x\"})]})},u._id);}),/*#__PURE__*/_jsxs(\"div\",{className:s.all,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.all_cost_order,children:[/*#__PURE__*/_jsx(\"span\",{className:s.text,children:\"\\u0420\\u0430\\u0437\\u043E\\u043C:\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:s.all_cost,children:[cost,\" \\u0433\\u0440\\u043D\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:s.button_order,children:/*#__PURE__*/_jsx(NavLink,{to:\"/checkout\",className:s.your_like,children:\"\\u0417\\u0430\\u043C\\u043E\\u0432\\u0438\\u0442\\u0438\"})})]})]});}return/*#__PURE__*/_jsx(\"div\",{className:s.content,children:view});};","map":{"version":3,"sources":["/Users/daloniil/Desktop/Programer/Store/src/Pages/Buy/Buy.tsx"],"names":["NavLink","s","useEffect","useState","useDispatch","useSelector","actions","getitem","getlenght","getamoun","Buy","Scroll","require","scroll","animateScroll","scrollToTop","plus","minus","delet","dispatch","deleteLenght","length","Number","amountLeghtminus","number","amountLeghtplus","item","lenght","amoun","itemState","setItemState","view","cost","reduce","a","b","Math","round","container_no_buy","p","container_buy","order","map","u","info","container_photo","eat","photoURL","your_order","container_name","name","size","amount","border_minus","number_amount","costs","x","amount_cost","delete","searchindex","_id","findIndex","el","splice","all","all_cost_order","text","all_cost","button_order","your_like","content"],"mappings":"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","sourcesContent":["import { NavLink } from \"react-router-dom\";\nimport s from \"./Buy.module.css\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actions } from \"../../Redux/buy-item-reducer\";\nimport {\n  getitem,\n  getlenght,\n  getamoun,\n} from \"../../Selectors/buy-item-selector\";\n\nexport const Buy = () => {\n  let Scroll = require(\"react-scroll\");\n  let scroll = Scroll.animateScroll;\n  scroll.scrollToTop();\n\n  let plus, minus, delet;\n\n  const dispatch = useDispatch();\n\n  let deleteLenght = (length: number | null) => {\n    dispatch(actions.deleteLenght(Number(length)));\n  };\n\n  const amountLeghtminus = (number: number) => {\n    dispatch(actions.amountLeghtminus(number));\n  };\n\n  const amountLeghtplus = () => {\n    dispatch(actions.amountLeghtplus());\n  };\n\n  const item = useSelector(getitem);\n  const lenght = useSelector(getlenght);\n  const amoun = useSelector(getamoun);\n\n  const [itemState, setItemState] = useState(() => item);\n\n  useEffect(() => {\n    setItemState(item);\n  }, [amoun]);\n\n  let view;\n\n  let cost = item.reduce(function (a, b) {\n    return Math.round(a + b.cost);\n  }, 0);\n\n  if (item.length == 0) {\n    view = (\n      <div className={s.container_no_buy}>\n        <span>Ви ще не обрали замовлення</span>\n        <NavLink to={\"/profile/pizza\"} className={s.p}>\n          Перейти в меню\n        </NavLink>\n      </div>\n    );\n  } else {\n    view = (\n      <div className={s.container_buy}>\n        <div className={s.order}>\n          <span>Кошик</span>\n        </div>\n        {item.map((u) => (\n          <div key={u._id}>\n            <div className={s.info}>\n              <div className={s.container_photo}>\n                {<img src={u.eat.photoURL} alt=\"\" height=\"75\" width=\"75\" />}\n              </div>\n\n              <div className={s.your_order}>\n                <div className={s.container_name}>\n                  {u.eat.name} {u.size > 0 ? \"-\" : \"\"}{\" \"}\n                  {u.size > 0 ? u.size : \"\"} {u.size > 0 ? \"см\" : \"\"}\n                </div>\n\n                <div className={s.amount}>\n                  <div className={s.border_minus}>\n                    <p\n                      className={s.minus}\n                      onClick={\n                        (minus = () => {\n                          if (u.eat.amount > 1) {\n                            amountLeghtminus(1);\n                          }\n                          u.eat.amount =\n                            u.eat.amount > 1 ? u.eat.amount - 1 : u.eat.amount;\n                          u.cost = u.eat.cost * u.eat.amount;\n                        })\n                      }\n                    >\n                      -\n                    </p>\n                  </div>\n                  <p className={s.number_amount}>{u.eat.amount}</p>\n                  <p\n                    className={s.plus}\n                    onClick={\n                      (plus = () => {\n                        u.eat.amount = u.eat.amount + 1;\n                        u.cost = u.eat.cost * u.eat.amount;\n                        amountLeghtplus();\n                      })\n                    }\n                  >\n                    +\n                  </p>\n                </div>\n\n                <div className={s.costs}>\n                  <span className={s.x}> {u.eat.amount} x</span>{\" \"}\n                  <span className={s.amount_cost}>\n                    {Math.round(u.eat.cost)} грн\n                  </span>\n                </div>\n              </div>\n\n              <span\n                className={s.delete}\n                onClick={\n                  (delet = () => {\n                    let searchindex = u._id;\n\n                    amountLeghtminus(\n                      itemState[\n                        itemState.findIndex((el) => el._id === searchindex)\n                      ].eat.amount\n                    );\n\n                    itemState[\n                      itemState.findIndex((el) => el._id === searchindex)\n                    ].eat.amount = 1;\n\n                    itemState.splice(\n                      itemState.findIndex((el) => el._id === searchindex),\n                      1\n                    );\n\n                    deleteLenght(\n                      Number(lenght) > 0 ? Number(lenght) - 1 : null\n                    );\n                  })\n                }\n              >\n                x\n              </span>\n            </div>\n          </div>\n        ))}\n\n        <div className={s.all}>\n          <div className={s.all_cost_order}>\n            <span className={s.text}>Разом:</span>{\" \"}\n            <span className={s.all_cost}>{cost} грн</span>\n          </div>\n          <div className={s.button_order}>\n            <NavLink to={\"/checkout\"} className={s.your_like}>\n              Замовити\n            </NavLink>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return <div className={s.content}>{view}</div>;\n};\n"]},"metadata":{},"sourceType":"module"}